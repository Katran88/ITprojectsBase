<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <title>Projects Base</title>
</head>
<body>
    <div align="right">
        <form  th:action="@{/logout}" method="post">
            <input type="submit" value="Log Out"/>
        </form>
    </div>
    <h1 align="center"> Projects: </h1>

    <table style="width:100%">
        <tr>
            <th>New project:</th>
            <th>Filter:</th>
        </tr>
        <tr>
            <td style="width:50%" align="center" >
                <form th:action="@{/projects}" method="post">
                    <label> Title: <input type="text" name="title"/> </label> <br>
                    <label> Description: <input type="description" name="description"/> </label> <br>
                    <label> Start Date: <input type="date" name="startDate"/> </label> <br>
                    <input type="submit" value="Add project"/>

                    <label th:if="${projectAdded}" style="color: green" >
                        Project successfully added.
                    </label>
                    <label th:if="${projectNotAdded}" style="color: red" >
                        Project adding exception, incorrect info in the fields.
                    </label>
                    <br>
                </form>
            </td>
            <td style="width:50%" align="center" >
                <form th:action="@{/projects}" method="get">
                    <label>Keyword: <input type="text" name="filter" placeholder="Any word or YYYY-MM-DD" ></label>
                    <input type="submit" value="Filter">
                </form>
            </td>
    </table>



    <div th:if="${projects.isEmpty()}" align="center" >
        <label colspan="2"> No Projects Available </label>
    </div>

    <div th:each="project : ${projects}" align="center">
        <b th:text="${project.getTitle()}" /> <br>
        <label th:text="${project.getDescription()}"/> <br>
        <i th:text="${project.getAuthor().getUsername()}"></i> <br>
        <label th:text="${project.getStartDate().toString()}"/> <br>
        <br>
    </div>
</body>
</html>